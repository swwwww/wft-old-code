!function(a,b){function c(a,b){var c=j[a],d=c.initial,e=c.events;c&&(d&&f(b).H(d),e&&f(b).removeAttr("h-com").H(c.component||a,c.elements,e))}var d=function(a){return document.createElement(a)},e=b([]),f=function(a){return e[0]=a,e},g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},h=g[Modernizr.prefixed("transition")];a("#css3.register").core(function(){this.plugin("css3",{transEndEventName:h})}).one(!0),a("#css3.transition").core(function(){_.extend(this.css3,{transitionEnd:function(a,c){var d;h?(d=b(a),d.on(h,function e(){d.is(this)&&(d.off(h,e),c.call(a))})):c.call(a)}})}).required(["#css3.register"]).one(!0),a("@css3").queue(["#css3.transition"]);var i=document.body;a("#cover").core(function(){var a,b=this,c=this.css3.transEndEventName;a=d("div"),a.id="full-cover",a.className="fade",i.appendChild(a),this.plugin("cover",{pop:function(){f(a).show(),c&&a.offsetWidth,a.className="fade in"},fade:function(){f(a).removeClass("in"),b.css3.transitionEnd(a,function(){f(this).hide()})}})}).required(["@css3"]).one(!0),a("#login.cover").core(function(){this.cover.pop()}).required(["#cover"]).pack();var j={details:{events:"click",elements:".component-name"},select:{events:"click"},"select-auto":{component:"select",events:"click",initial:"select.init"},scroll:{events:"mousedown mousewheel",initial:"scroll.init"},"login-cover":{initial:"login.cover"},"switch":{elements:".switch",events:"click"},"delete":{elements:".delete",events:"click"},"delete-confirm":{component:"delete.confirm",elements:".delete",events:"click"},filters:{events:"change"},"upload-image":{initial:"upload upload-image"}},k=/\s+/;e.length=1,b.fn.H=function(b,c,d){var e;return arguments.length>2&&c?(e=[d],e.push(c)):d&&(e=[d]),this.each(function(){var d=f(this),g=this,h=d.data("Horcrux.list");if(h){if(-1!==_.indexOf(d.data("Horcrux.list"),b))return}else h=[],d.data("Horcrux.list",h);e?(e.push(function(d){_.each(b.split(k),function(b){a("!"+b).run(function(){this.runtime({event:d,target:c?f(d.target).closest(c)[0]:g,element:g})})})}),d.on.apply(d,e)):_.each(b.split(k),function(b){a("!"+b).run(function(){this.runtime({element:g})})})}),this},a.extend({scan:function(a){b(a||document).find("[h-com]").each(function(){var a=this,b=this.getAttribute("h-com");_.each(b.split(" "),function(b){c(b,a)})})},connect:c}),a.scan()}(Horcrux,jQuery);